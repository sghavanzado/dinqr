2025-09-16 16:16:37,205 ERROR: Erro ao listar cargos: (pyodbc.ProgrammingError) ('42S22', "[42S22] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Invalid column name 'DepartamentoID'. (207) (SQLExecDirectW)")
[SQL: SELECT [Cargos].[CargoID] AS [Cargos_CargoID], [Cargos].[Nome] AS [Cargos_Nome], [Cargos].[Descricao] AS [Cargos_Descricao], [Cargos].[Nivel] AS [Cargos_Nivel], [Cargos].[DepartamentoID] AS [Cargos_DepartamentoID] 
FROM [Cargos] ORDER BY [Cargos].[CargoID]]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-16 16:16:37,205 INFO: 127.0.0.1 - - [16/Sep/2025 16:16:37] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:16:37,209 INFO: 127.0.0.1 - - [16/Sep/2025 16:16:37] "[35m[1mGET /api/iamc/cargos HTTP/1.1[0m" 500 -
2025-09-16 16:16:37,512 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:16:37,526 INFO: 127.0.0.1 - - [16/Sep/2025 16:16:37] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:16:37,539 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:16:37,543 ERROR: Erro ao listar cargos: (pyodbc.ProgrammingError) ('42S22', "[42S22] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Invalid column name 'DepartamentoID'. (207) (SQLExecDirectW)")
[SQL: SELECT [Cargos].[CargoID] AS [Cargos_CargoID], [Cargos].[Nome] AS [Cargos_Nome], [Cargos].[Descricao] AS [Cargos_Descricao], [Cargos].[Nivel] AS [Cargos_Nivel], [Cargos].[DepartamentoID] AS [Cargos_DepartamentoID] 
FROM [Cargos] ORDER BY [Cargos].[CargoID]]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-16 16:16:37,546 INFO: 127.0.0.1 - - [16/Sep/2025 16:16:37] "[35m[1mGET /api/iamc/cargos HTTP/1.1[0m" 500 -
2025-09-16 16:17:12,233 INFO: Petición: OPTIONS /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:17:13,627 INFO: 127.0.0.1 - - [16/Sep/2025 16:17:13] "OPTIONS /api/iamc/cargos HTTP/1.1" 200 -
2025-09-16 16:17:13,941 INFO: Petición: POST /api/iamc/cargos desde 127.0.0.1 - args: {} - json: {'Nome': 'Director P', 'Descricao': 'ok', 'Nivel': '', 'DepartamentoID': 4}
2025-09-16 16:17:13,951 ERROR: Erro ao criar cargo: (pyodbc.ProgrammingError) ('42S22', "[42S22] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Invalid column name 'DepartamentoID'. (207) (SQLExecDirectW); [42S22] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
[SQL: INSERT INTO [Cargos] ([Nome], [Descricao], [Nivel], [DepartamentoID]) OUTPUT inserted.[CargoID] VALUES (?, ?, ?, ?)]
[parameters: ('Director P', 'ok', '', 4)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-16 16:17:13,953 INFO: 127.0.0.1 - - [16/Sep/2025 16:17:13] "[35m[1mPOST /api/iamc/cargos HTTP/1.1[0m" 500 -
2025-09-16 16:17:16,909 INFO: Petición: POST /api/iamc/cargos desde 127.0.0.1 - args: {} - json: {'Nome': 'Director P', 'Descricao': 'ok', 'Nivel': '', 'DepartamentoID': 4}
2025-09-16 16:17:17,173 ERROR: Erro ao criar cargo: (pyodbc.ProgrammingError) ('42S22', "[42S22] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Invalid column name 'DepartamentoID'. (207) (SQLExecDirectW); [42S22] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
[SQL: INSERT INTO [Cargos] ([Nome], [Descricao], [Nivel], [DepartamentoID]) OUTPUT inserted.[CargoID] VALUES (?, ?, ?, ?)]
[parameters: ('Director P', 'ok', '', 4)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-16 16:17:17,175 INFO: 127.0.0.1 - - [16/Sep/2025 16:17:17] "[35m[1mPOST /api/iamc/cargos HTTP/1.1[0m" 500 -
2025-09-16 16:18:47,431 INFO: Petición: OPTIONS /users/profile desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:47,437 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:47] "OPTIONS /users/profile HTTP/1.1" 200 -
2025-09-16 16:18:47,446 INFO: Petición: OPTIONS /users/profile desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:47,500 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:47] "OPTIONS /users/profile HTTP/1.1" 200 -
2025-09-16 16:18:47,962 INFO: Petición: GET /users/profile desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:48,339 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:48] "GET /users/profile HTTP/1.1" 200 -
2025-09-16 16:18:49,210 INFO: Petición: GET /users/profile desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:49,296 INFO: Petición: OPTIONS /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:49,306 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:49] "OPTIONS /qr/funcionarios/total HTTP/1.1" 200 -
2025-09-16 16:18:49,321 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:49] "GET /users/profile HTTP/1.1" 200 -
2025-09-16 16:18:49,491 INFO: Petición: OPTIONS /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:49,606 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:49] "OPTIONS /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:18:49,600 INFO: Petición: OPTIONS /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:49,614 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:49] "OPTIONS /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:18:49,607 INFO: Petición: OPTIONS /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:49,627 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:49] "OPTIONS /qr/funcionarios/total HTTP/1.1" 200 -
2025-09-16 16:18:49,638 INFO: Petición: GET /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:49,653 ERROR: Error al obtener el total de funcionarios: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'key'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
2025-09-16 16:18:49,655 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:49] "[35m[1mGET /qr/funcionarios/total HTTP/1.1[0m" 500 -
2025-09-16 16:18:49,936 INFO: Petición: GET /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:49,943 INFO: IDs de funcionarios con QR obtenidos: ['102', '106', '107', '109', '11', '111', '113', '114', '118', '119', '120', '122', '125', '128', '13', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140', '14002', '14005', '14007', '14008', '14009', '14014', '14015', '14020', '142', '148', '15', '227', '43', '5000011', '5000012', '5000013', '5000018', '5000030', '500005', '5000054', '5000055', '74']
2025-09-16 16:18:49,948 INFO: Ejecutando consulta SQL para funcionarios COM QR: 
                    SELECT sap, nome, funcao, area, nif, telefone, email, unineg
                    FROM sonacard
                    WHERE sap IN (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
                    ORDER BY sap
                
2025-09-16 16:18:49,955 INFO: Funcionarios con QR obtenidos: 48 registros
2025-09-16 16:18:49,959 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:49] "GET /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:18:50,424 INFO: Petición: GET /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:50,424 INFO: Petición: GET /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:50,912 ERROR: Error al obtener el total de funcionarios: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'key'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
2025-09-16 16:18:50,915 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:50] "[35m[1mGET /qr/funcionarios/total HTTP/1.1[0m" 500 -
2025-09-16 16:18:50,956 INFO: IDs de funcionarios con QR obtenidos: ['102', '106', '107', '109', '11', '111', '113', '114', '118', '119', '120', '122', '125', '128', '13', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140', '14002', '14005', '14007', '14008', '14009', '14014', '14015', '14020', '142', '148', '15', '227', '43', '5000011', '5000012', '5000013', '5000018', '5000030', '500005', '5000054', '5000055', '74']
2025-09-16 16:18:50,959 INFO: Ejecutando consulta SQL para funcionarios COM QR: 
                    SELECT sap, nome, funcao, area, nif, telefone, email, unineg
                    FROM sonacard
                    WHERE sap IN (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
                    ORDER BY sap
                
2025-09-16 16:18:50,963 INFO: Funcionarios con QR obtenidos: 48 registros
2025-09-16 16:18:50,965 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:50] "GET /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:18:55,506 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:55,506 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:55,514 ERROR: Erro ao listar cargos: (pyodbc.ProgrammingError) ('42S22', "[42S22] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Invalid column name 'DepartamentoID'. (207) (SQLExecDirectW)")
[SQL: SELECT [Cargos].[CargoID] AS [Cargos_CargoID], [Cargos].[Nome] AS [Cargos_Nome], [Cargos].[Descricao] AS [Cargos_Descricao], [Cargos].[Nivel] AS [Cargos_Nivel], [Cargos].[DepartamentoID] AS [Cargos_DepartamentoID] 
FROM [Cargos] ORDER BY [Cargos].[CargoID]]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-16 16:18:55,517 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:55] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:18:55,520 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:55] "[35m[1mGET /api/iamc/cargos HTTP/1.1[0m" 500 -
2025-09-16 16:18:55,824 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:18:55,844 INFO: 127.0.0.1 - - [16/Sep/2025 16:18:55] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:18:55,846 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
