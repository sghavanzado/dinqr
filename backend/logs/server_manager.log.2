2025-12-05 23:20:38,966 INFO: Petición: GET /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:38,977 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:38] "OPTIONS /qr/solo-qr-normal HTTP/1.1" 200 -
2025-12-05 23:20:38,965 INFO: Petición: GET /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:38,957 INFO: Petición: OPTIONS /qr/solo-qr-normal desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:38,983 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:38] "OPTIONS /cv/funcionarios-con-cv HTTP/1.1" 200 -
2025-12-05 23:20:38,969 INFO: Petición: GET /cv/funcionarios-con-cv desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:38,988 INFO: Petición: GET /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:38,996 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:38] "OPTIONS /qr/solo-qr-normal HTTP/1.1" 200 -
2025-12-05 23:20:39,003 INFO: Petición: GET /qr/solo-qr-normal desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:39,047 INFO: Conexión obtenida del pool. Activas: 31, Inactivas: 169
2025-12-05 23:20:39,078 INFO: Conexión obtenida del pool. Activas: 32, Inactivas: 168
2025-12-05 23:20:39,100 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/funcionarios/total HTTP/1.1" 200 -
2025-12-05 23:20:39,115 INFO: Conexión obtenida del pool. Activas: 33, Inactivas: 167
2025-12-05 23:20:39,130 INFO: IDs de funcionarios con QR o CV obtenidos: ['102']
2025-12-05 23:20:39,130 INFO: Conexión obtenida del pool. Activas: 34, Inactivas: 166
2025-12-05 23:20:39,131 INFO: Conexión liberada al pool. Activas: 33, Inactivas: 167
2025-12-05 23:20:39,133 INFO: Ejecutando consulta SQL para funcionarios COM QR: 
                    SELECT sap, nome, funcao, area, nif, telefone, email, unineg
                    FROM sonacard
                    WHERE sap IN (?)
                    ORDER BY sap
                
2025-12-05 23:20:39,129 INFO: Petición: OPTIONS /qr/funcionarios/total-con-qr desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:39,135 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "OPTIONS /qr/funcionarios/total-con-qr HTTP/1.1" 200 -
2025-12-05 23:20:39,135 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/funcionarios/total HTTP/1.1" 200 -
2025-12-05 23:20:39,135 INFO: Conexión liberada al pool. Activas: 32, Inactivas: 168
2025-12-05 23:20:39,130 INFO: Petición: GET /cv/funcionarios-con-cv desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:39,141 INFO: Funcionarios con QR obtenidos: 1 registros
2025-12-05 23:20:39,144 INFO: Conexión obtenida del pool. Activas: 33, Inactivas: 167
2025-12-05 23:20:39,146 INFO: Conexión obtenida del pool. Activas: 34, Inactivas: 166
2025-12-05 23:20:39,146 INFO: Conexión obtenida del pool. Activas: 35, Inactivas: 165
2025-12-05 23:20:39,146 INFO: Petición: GET /qr/solo-qr-normal desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:39,149 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-12-05 23:20:39,150 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /cv/funcionarios-con-cv HTTP/1.1" 200 -
2025-12-05 23:20:39,153 INFO: Conexión liberada al pool. Activas: 34, Inactivas: 166
2025-12-05 23:20:39,153 INFO: Conexión obtenida del pool. Activas: 35, Inactivas: 165
2025-12-05 23:20:39,154 INFO: IDs de funcionarios con QR Normal (solo): ['102']
2025-12-05 23:20:39,157 INFO: IDs de funcionarios con QR o CV obtenidos: ['102']
2025-12-05 23:20:39,163 INFO: Conexión liberada al pool. Activas: 34, Inactivas: 166
2025-12-05 23:20:39,166 INFO: Conexión liberada al pool. Activas: 33, Inactivas: 167
2025-12-05 23:20:39,160 INFO: Petición: GET /qr/funcionarios/total-con-qr desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:39,168 INFO: IDs de funcionarios con QR Normal (solo): ['102']
2025-12-05 23:20:39,170 INFO: Ejecutando consulta SQL para funcionarios COM QR: 
                    SELECT sap, nome, funcao, area, nif, telefone, email, unineg
                    FROM sonacard
                    WHERE sap IN (?)
                    ORDER BY sap
                
2025-12-05 23:20:39,171 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/solo-qr-normal HTTP/1.1" 200 -
2025-12-05 23:20:39,167 INFO: Petición: GET /qr/funcionarios/total-con-qr desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:39,173 INFO: Conexión obtenida del pool. Activas: 34, Inactivas: 166
2025-12-05 23:20:39,174 INFO: Conexión liberada al pool. Activas: 33, Inactivas: 167
2025-12-05 23:20:39,174 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /cv/funcionarios-con-cv HTTP/1.1" 200 -
2025-12-05 23:20:39,184 INFO: Conexión obtenida del pool. Activas: 34, Inactivas: 166
2025-12-05 23:20:39,189 INFO: Conexión liberada al pool. Activas: 33, Inactivas: 167
2025-12-05 23:20:39,191 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/solo-qr-normal HTTP/1.1" 200 -
2025-12-05 23:20:39,194 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/funcionarios/total-con-qr HTTP/1.1" 200 -
2025-12-05 23:20:39,194 INFO: Conexión liberada al pool. Activas: 32, Inactivas: 168
2025-12-05 23:20:39,207 INFO: Funcionarios con QR obtenidos: 1 registros
2025-12-05 23:20:39,210 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/funcionarios/total-con-qr HTTP/1.1" 200 -
2025-12-05 23:20:39,234 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:39] "GET /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-12-05 23:20:42,972 INFO: Petición: GET /contacto desde 127.0.0.1 - args: {'sap': '107', 'hash': 'ef33da9f921cab6859c87a87a96b61863df18f398fb9d1e24d2fcd7727860bda'} - json: None
2025-12-05 23:20:42,977 INFO: Parâmetros recebidos: id_contacto=107, hash_recebido=ef33da9f921cab6859c87a87a96b61863df18f398fb9d1e24d2fcd7727860bda
2025-12-05 23:20:42,978 INFO: Conexión obtenida del pool. Activas: 33, Inactivas: 167
2025-12-05 23:20:42,980 WARNING: ID não encontrado na base de dados local: 107
2025-12-05 23:20:42,980 ERROR: Erro ao processar o pedido para o ID 107: 404 Not Found: ID não encontrado
2025-12-05 23:20:42,981 ERROR: Internal server error: 500 Internal Server Error: Erro interno do servidor
2025-12-05 23:20:42,983 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:42] "[35m[1mGET /contacto?sap=107&hash=ef33da9f921cab6859c87a87a96b61863df18f398fb9d1e24d2fcd7727860bda HTTP/1.1[0m" 500 -
2025-12-05 23:20:43,003 INFO: Petición: GET /favicon.ico desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:20:43,007 INFO: 127.0.0.1 - - [05/Dec/2025 23:20:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-12-05 23:21:08,368 INFO: Petición: GET /contacto desde 127.0.0.1 - args: {'sap': '107', 'hash': 'ef33da9f921cab6859c87a87a96b61863df18f398fb9d1e24d2fcd7727860bda'} - json: None
2025-12-05 23:21:08,372 INFO: Parâmetros recebidos: id_contacto=107, hash_recebido=ef33da9f921cab6859c87a87a96b61863df18f398fb9d1e24d2fcd7727860bda
2025-12-05 23:21:08,429 INFO: Conexión obtenida del pool. Activas: 34, Inactivas: 166
2025-12-05 23:21:08,433 WARNING: ID não encontrado na base de dados local: 107
2025-12-05 23:21:08,434 ERROR: Erro ao processar o pedido para o ID 107: 404 Not Found: ID não encontrado
2025-12-05 23:21:08,434 ERROR: Internal server error: 500 Internal Server Error: Erro interno do servidor
2025-12-05 23:21:08,436 INFO: 127.0.0.1 - - [05/Dec/2025 23:21:08] "[35m[1mGET /contacto?sap=107&hash=ef33da9f921cab6859c87a87a96b61863df18f398fb9d1e24d2fcd7727860bda HTTP/1.1[0m" 500 -
2025-12-05 23:21:08,468 INFO: Petición: GET /favicon.ico desde 127.0.0.1 - args: {} - json: None
2025-12-05 23:21:08,472 INFO: 127.0.0.1 - - [05/Dec/2025 23:21:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-12-05 23:21:38,550 INFO: Orígenes CORS permitidos: ['https://localhost', 'https://localhost:443', 'https://127.0.0.1', 'https://localhost:9000', 'https://127.0.1:9000', 'https://localhost:5137', 'https://localhost:5173']
2025-12-05 23:21:38,551 INFO: ==================================================
2025-12-05 23:21:38,552 INFO: DINQR Backend Application Starting
2025-12-05 23:21:38,553 INFO: ==================================================
2025-12-05 23:21:38,554 INFO: Environment: production
2025-12-05 23:21:38,554 INFO: Debug mode: False
2025-12-05 23:21:38,555 INFO: Database URI: localhost:5432/localdb
2025-12-05 23:21:38,673 INFO: Permissions and roles initialized successfully.
2025-12-05 23:21:38,675 INFO: Permissions initialized successfully
2025-12-05 23:21:38,702 INFO: Orígenes CORS permitidos: ['https://localhost', 'https://localhost:443', 'https://127.0.0.1', 'https://localhost:9000', 'https://127.0.1:9000', 'https://localhost:5137', 'https://localhost:5173']
2025-12-05 23:21:38,704 INFO: ==================================================
2025-12-05 23:21:38,706 INFO: DINQR Backend Application Starting
2025-12-05 23:21:38,707 INFO: ==================================================
2025-12-05 23:21:38,708 INFO: Environment: production
2025-12-05 23:21:38,709 INFO: Debug mode: False
2025-12-05 23:21:38,710 INFO: Database URI: localhost:5432/localdb
2025-12-05 23:21:38,778 INFO: Permissions and roles initialized successfully.
2025-12-05 23:21:38,778 INFO: Permissions initialized successfully
2025-12-05 23:21:38,802 WARNING: ============================================================
2025-12-05 23:21:38,804 WARNING: WARNING: Running development server
2025-12-05 23:21:38,805 WARNING: For production use:
2025-12-05 23:21:38,806 WARNING:   python waitress_server.py
2025-12-05 23:21:38,807 WARNING:   python windows_service.py install
2025-12-05 23:21:38,809 WARNING: ============================================================
2025-12-05 23:21:38,819 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-12-05 23:21:38,820 INFO: [33mPress CTRL+C to quit[0m
2025-12-05 23:21:47,178 INFO: Petición: GET /contacto desde 127.0.0.1 - args: {'sap': '102', 'hash': 'eb8c62aa2e0e61245f20e3abade62af3e716eee31cd4d95e128852c235670d76'} - json: None
2025-12-05 23:21:47,179 INFO: Parâmetros recebidos: id_contacto=102, hash_recebido=eb8c62aa2e0e61245f20e3abade62af3e716eee31cd4d95e128852c235670d76
