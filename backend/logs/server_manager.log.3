2025-09-16 16:31:12,354 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:12,363 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:12] "GET /api/iamc/cargos HTTP/1.1" 200 -
2025-09-16 16:31:12,695 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:12,695 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:12,702 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:12] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:31:12,703 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:12] "GET /api/iamc/cargos HTTP/1.1" 200 -
2025-09-16 16:31:13,010 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:13,015 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:13] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:31:13,019 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:13,025 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:13] "GET /api/iamc/cargos HTTP/1.1" 200 -
2025-09-16 16:31:38,805 INFO: Petición: OPTIONS /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:38,808 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:38] "OPTIONS /api/iamc/cargos HTTP/1.1" 200 -
2025-09-16 16:31:39,055 INFO: Petición: POST /api/iamc/cargos desde 127.0.0.1 - args: {} - json: {'Nome': 'Director P', 'Descricao': 'wewewe', 'Nivel': '', 'DepartamentoID': 12}
2025-09-16 16:31:39,077 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:39] "[35m[1mPOST /api/iamc/cargos HTTP/1.1[0m" 201 -
2025-09-16 16:31:39,117 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:39,125 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:39] "GET /api/iamc/cargos HTTP/1.1" 200 -
2025-09-16 16:31:39,431 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:31:39,436 INFO: 127.0.0.1 - - [16/Sep/2025 16:31:39] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:32:40,312 INFO: Orígenes CORS permitidos: ['https://localhost', 'https://localhost:443', 'https://127.0.0.1', 'https://localhost:9000', 'https://127.0.1:9000']
2025-09-16 16:32:40,313 INFO: ==================================================
2025-09-16 16:32:40,316 INFO: DINQR Backend Application Starting
2025-09-16 16:32:40,317 INFO: ==================================================
2025-09-16 16:32:40,319 INFO: Environment: production
2025-09-16 16:32:40,320 INFO: Debug mode: False
2025-09-16 16:32:40,321 INFO: Database URI: localhost/IAMC (SQL Server)
2025-09-16 16:32:40,346 INFO: IAMC SQL Server connection initialized successfully
2025-09-16 16:32:40,410 INFO: Permissions and roles initialized successfully.
2025-09-16 16:32:40,425 INFO: Permissions initialized successfully
2025-09-16 16:32:40,548 INFO: Orígenes CORS permitidos: ['https://localhost', 'https://localhost:443', 'https://127.0.0.1', 'https://localhost:9000', 'https://127.0.1:9000']
2025-09-16 16:32:40,550 INFO: ==================================================
2025-09-16 16:32:40,552 INFO: DINQR Backend Application Starting
2025-09-16 16:32:40,555 INFO: ==================================================
2025-09-16 16:32:40,557 INFO: Environment: production
2025-09-16 16:32:40,559 INFO: Debug mode: False
2025-09-16 16:32:40,560 INFO: Database URI: localhost/IAMC (SQL Server)
2025-09-16 16:32:40,579 INFO: IAMC SQL Server connection initialized successfully
2025-09-16 16:32:40,610 INFO: Permissions and roles initialized successfully.
2025-09-16 16:32:40,612 INFO: Permissions initialized successfully
2025-09-16 16:32:40,644 WARNING: ============================================================
2025-09-16 16:32:40,647 WARNING: WARNING: Running development server
2025-09-16 16:32:40,649 WARNING: For production use:
2025-09-16 16:32:40,650 WARNING:   python waitress_server.py
2025-09-16 16:32:40,653 WARNING:   python windows_service.py install
2025-09-16 16:32:40,658 WARNING: ============================================================
2025-09-16 16:32:40,678 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-09-16 16:32:40,679 INFO: [33mPress CTRL+C to quit[0m
2025-09-16 16:32:54,569 INFO: Petición: OPTIONS /auth/login desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:54,573 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:54] "OPTIONS /auth/login HTTP/1.1" 200 -
2025-09-16 16:32:54,880 INFO: Petición: POST /auth/login desde 127.0.0.1 - args: {} - json: {'email': 'maikel@ejemplos.com', 'password': 'PasswordSeguro123!'}
2025-09-16 16:32:55,050 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:55] "POST /auth/login HTTP/1.1" 200 -
2025-09-16 16:32:55,686 INFO: Petición: OPTIONS /users/profile desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:55,700 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:55] "OPTIONS /users/profile HTTP/1.1" 200 -
2025-09-16 16:32:55,711 INFO: Petición: GET /users/profile desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:55,717 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:55] "GET /users/profile HTTP/1.1" 200 -
2025-09-16 16:32:55,890 INFO: Petición: OPTIONS /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:55,893 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:55] "OPTIONS /qr/funcionarios/total HTTP/1.1" 200 -
2025-09-16 16:32:55,957 INFO: Petición: OPTIONS /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:55,961 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:55] "OPTIONS /qr/funcionarios/total HTTP/1.1" 200 -
2025-09-16 16:32:55,957 INFO: Petición: OPTIONS /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:55,967 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:55] "OPTIONS /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:32:55,958 INFO: Petición: OPTIONS /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:55,971 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:55] "OPTIONS /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:32:56,202 INFO: Petición: GET /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:56,212 ERROR: Error al obtener el total de funcionarios: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'key'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
2025-09-16 16:32:56,214 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:56] "[35m[1mGET /qr/funcionarios/total HTTP/1.1[0m" 500 -
2025-09-16 16:32:56,482 INFO: Petición: GET /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:56,483 INFO: Petición: GET /qr/funcionarios/total desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:56,489 INFO: IDs de funcionarios con QR obtenidos: ['102', '106', '107', '109', '11', '111', '113', '114', '118', '119', '120', '122', '125', '128', '13', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140', '14002', '14005', '14007', '14008', '14009', '14014', '14015', '14020', '142', '148', '15', '227', '43', '5000011', '5000012', '5000013', '5000018', '5000030', '500005', '5000054', '5000055', '74']
2025-09-16 16:32:56,492 ERROR: Error al obtener el total de funcionarios: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'key'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
2025-09-16 16:32:56,493 INFO: Ejecutando consulta SQL para funcionarios COM QR: 
                    SELECT sap, nome, funcao, area, nif, telefone, email, unineg
                    FROM sonacard
                    WHERE sap IN (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
                    ORDER BY sap
                
2025-09-16 16:32:56,496 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:56] "[35m[1mGET /qr/funcionarios/total HTTP/1.1[0m" 500 -
2025-09-16 16:32:56,500 INFO: Funcionarios con QR obtenidos: 48 registros
2025-09-16 16:32:56,512 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:56] "GET /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:32:56,534 INFO: Petición: GET /qr/funcionarios-com-qr desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:32:56,540 INFO: IDs de funcionarios con QR obtenidos: ['102', '106', '107', '109', '11', '111', '113', '114', '118', '119', '120', '122', '125', '128', '13', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140', '14002', '14005', '14007', '14008', '14009', '14014', '14015', '14020', '142', '148', '15', '227', '43', '5000011', '5000012', '5000013', '5000018', '5000030', '500005', '5000054', '5000055', '74']
2025-09-16 16:32:56,547 INFO: Ejecutando consulta SQL para funcionarios COM QR: 
                    SELECT sap, nome, funcao, area, nif, telefone, email, unineg
                    FROM sonacard
                    WHERE sap IN (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
                    ORDER BY sap
                
2025-09-16 16:32:56,918 INFO: Funcionarios con QR obtenidos: 48 registros
2025-09-16 16:32:56,949 INFO: 127.0.0.1 - - [16/Sep/2025 16:32:56] "GET /qr/funcionarios-com-qr HTTP/1.1" 200 -
2025-09-16 16:33:03,027 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:33:03,326 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:33:03,357 INFO: 127.0.0.1 - - [16/Sep/2025 16:33:03] "GET /api/iamc/cargos HTTP/1.1" 200 -
2025-09-16 16:33:03,358 INFO: 127.0.0.1 - - [16/Sep/2025 16:33:03] "GET /api/iamc/departamentos HTTP/1.1" 200 -
2025-09-16 16:33:03,896 INFO: Petición: GET /api/iamc/cargos desde 127.0.0.1 - args: {} - json: None
2025-09-16 16:33:06,195 INFO: Petición: GET /api/iamc/departamentos desde 127.0.0.1 - args: {} - json: None
